{"remainingRequest":"C:\\xampp\\htdocs\\LAB11\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\LAB11\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\xampp\\htdocs\\LAB11\\src\\store\\orders.js","dependencies":[{"path":"C:\\xampp\\htdocs\\LAB11\\src\\store\\orders.js","mtime":1669896630080},{"path":"C:\\xampp\\htdocs\\LAB11\\babel.config.js","mtime":1669579532000},{"path":"C:\\xampp\\htdocs\\LAB11\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669898372387},{"path":"C:\\xampp\\htdocs\\LAB11\\node_modules\\babel-loader\\lib\\index.js","mtime":1669898373313},{"path":"C:\\xampp\\htdocs\\LAB11\\node_modules\\eslint-loader\\index.js","mtime":1669898371423}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFx4YW1wcFxcaHRkb2NzXFxMQUIxMVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzpcXHhhbXBwXFxodGRvY3NcXExBQjExXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFx0b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKdmFyIG9yZGVycyA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBvcmRlcnM6IFsvL3sKICAgICAgLy8iaWQiOiIxMSIsCiAgICAgIC8vImN1c3RvbWVyX2lkIjoiMjAiLAogICAgICAvLyJjcmVhdGVkX2F0IjoiMjAyMS0xMi0wMyAxODoyMDozMSIsCiAgICAgIC8vInN0YXR1c19pZCI6IjEiLAogICAgICAvLyJ0b3RhbCI6IjE5MCIsCiAgICAgIC8vIm9yZGVyX2l0ZW1zIjpbeyJwcm9kdWN0X2lkIjoiMiIsIm5hbWUiOiJTYWxtb24gUm9sbCIsInByaWNlIjoiMTgiLCJxdWFudGl0eSI6IjQifSx7InByb2R1Y3RfaWQiOiIzIiwicXVhbnRpdHkiOiIzIn0seyJwcm9kdWN0X2lkIjoiNCIsInF1YW50aXR5IjoiMiJ9XQogICAgICAvL30KICAgIF0KICB9LAogIGdldHRlcnM6IHsKICAgIGdldE9yZGVyczogZnVuY3Rpb24gZ2V0T3JkZXJzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5vcmRlcnM7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGFkZE9yZGVyczogZnVuY3Rpb24gYWRkT3JkZXJzKHN0YXRlLCBvcmRlcnMpIHsKICAgICAgc3RhdGUub3JkZXJzID0gb3JkZXJzOwogICAgfSwKICAgIGFkZE9yZGVyOiBmdW5jdGlvbiBhZGRPcmRlcihzdGF0ZSwgb3JkZXIpIHsKICAgICAgc3RhdGUub3JkZXJzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5vcmRlcnMpLCBbb3JkZXJdKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGdldE15T3JkZXJzRnJvbURCOiBmdW5jdGlvbiBnZXRNeU9yZGVyc0Zyb21EQihfcmVmKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIHJlc3BvbnNlLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vbG9jYWxob3N0L0xBQjExL2FwaS9vcmRlcnMucGhwP3Nlc3Npb25faWQ9Ii5jb25jYXQocm9vdEdldHRlcnNbJ3VzZXIvZ2V0VXNlciddLnNlc3Npb25faWQpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnYWRkT3JkZXJzJywgZGF0YSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3I6ICcsIF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZE9yZGVyOiBmdW5jdGlvbiBhZGRPcmRlcihfcmVmMiwgb3JkZXIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIHJlc3BvbnNlLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjIucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHA6Ly9sb2NhbGhvc3QvTEFCMTEvYXBpL29yZGVycy5waHA/c2Vzc2lvbl9pZD0iLmNvbmNhdChyb290R2V0dGVyc1sndXNlci9nZXRVc2VyJ10uc2Vzc2lvbl9pZCksIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG9yZGVyKSwKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVjZWl2ZWQgZGF0YTonLCBkYXRhKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnYWRkT3JkZXInLCBkYXRhKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKF9jb250ZXh0Mi50MCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEsIDEzXV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vZHVsZXM6IHt9Cn07CmV4cG9ydCBkZWZhdWx0IG9yZGVyczs="},{"version":3,"sources":["C:/xampp/htdocs/LAB11/src/store/orders.js"],"names":["orders","namespaced","state","getters","getOrders","mutations","addOrders","addOrder","order","actions","getMyOrdersFromDB","commit","rootGetters","fetch","session_id","response","json","data","console","log","method","body","JSON","stringify","headers","error","modules"],"mappings":";;;;;;AAAE,IAAMA,MAAM,GAAG;AACfC,EAAAA,UAAU,EAAE,IADG;AAEfC,EAAAA,KAAK,EAAE;AACLF,IAAAA,MAAM,EACN,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAFK,GAFQ;AAefG,EAAAA,OAAO,EAAE;AACPC,IAAAA,SADO,qBACIF,KADJ,EACW;AAChB,aAAOA,KAAK,CAACF,MAAb;AACD;AAHM,GAfM;AAoBfK,EAAAA,SAAS,EAAE;AACTC,IAAAA,SADS,qBACCJ,KADD,EACQF,MADR,EACe;AACpBE,MAAAA,KAAK,CAACF,MAAN,GAAeA,MAAf;AACH,KAHQ;AAITO,IAAAA,QAJS,oBAIAL,KAJA,EAIOM,KAJP,EAIa;AACpBN,MAAAA,KAAK,CAACF,MAAN,gCAAmBE,KAAK,CAACF,MAAzB,IAAiCQ,KAAjC;AACH;AANU,GApBI;AA6BfC,EAAAA,OAAO,EAAE;AACDC,IAAAA,iBADC,mCACwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAtBC,gBAAAA,MAAsB,QAAtBA,MAAsB,EAAdC,WAAc,QAAdA,WAAc;AAAA;AAAA;AAAA,uBAExBC,KAAK,4DAAqDD,WAAW,CAAC,cAAD,CAAX,CAA4BE,UAAjF,EAFmB;;AAAA;AAEzCC,gBAAAA,QAFyC;AAAA;AAAA,uBAG5BA,QAAQ,CAACC,IAAT,EAH4B;;AAAA;AAGzCC,gBAAAA,IAHyC;AAI3CN,gBAAAA,MAAM,CAAC,WAAD,EAAcM,IAAd,CAAN;AAJ2C;AAAA;;AAAA;AAAA;AAAA;AAO3CC,gBAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;;AAP2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAShD,KAVQ;AAWDZ,IAAAA,QAXC,2BAW+BC,KAX/B,EAWsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA7BG,gBAAAA,MAA6B,SAA7BA,MAA6B,EAArBC,WAAqB,SAArBA,WAAqB;AAAA;AAAA;AAAA,uBAEtBC,KAAK,4DAAqDD,WAAW,CAAC,cAAD,CAAX,CAA4BE,UAAjF,GAA+F;AAC1HM,kBAAAA,MAAM,EAAE,MADkH;AAE1HC,kBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAef,KAAf,CAFoH;AAG1HgB,kBAAAA,OAAO,EAAE;AAAE,oCAAgB;AAAlB;AAHiH,iBAA/F,CAFiB;;AAAA;AAEvCT,gBAAAA,QAFuC;AAAA;AAAA,uBAO1BA,QAAQ,CAACC,IAAT,EAP0B;;AAAA;AAOvCC,gBAAAA,IAPuC;AAQvCC,gBAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA6BF,IAA7B;AACAN,gBAAAA,MAAM,CAAC,UAAD,EAAaM,IAAb,CAAN;AATuC,kDAUhC,IAVgC;;AAAA;AAAA;AAAA;AAa7CC,gBAAAA,OAAO,CAACO,KAAR;AAb6C,kDAclC,KAdkC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgB9C;AA3BQ,GA7BM;AA0DfC,EAAAA,OAAO,EAAE;AA1DM,CAAf;AA6DF,eACC1B,MADD","sourcesContent":["  const orders = {\r\n  namespaced: true,\r\n  state: {\r\n    orders: \r\n    [\r\n    //{\r\n    //\"id\":\"11\",\r\n    //\"customer_id\":\"20\",\r\n    //\"created_at\":\"2021-12-03 18:20:31\",\r\n    //\"status_id\":\"1\",\r\n    //\"total\":\"190\",\r\n    //\"order_items\":[{\"product_id\":\"2\",\"name\":\"Salmon Roll\",\"price\":\"18\",\"quantity\":\"4\"},{\"product_id\":\"3\",\"quantity\":\"3\"},{\"product_id\":\"4\",\"quantity\":\"2\"}]\r\n    //}\r\n    ]\r\n  },\r\n  getters: {\r\n    getOrders (state) {\r\n      return state.orders\r\n    },   \r\n  }, \r\n  mutations: {\r\n    addOrders(state, orders){\r\n        state.orders = orders\r\n    },\r\n    addOrder(state, order){\r\n      state.orders = [...state.orders, order]\r\n  },\r\n\r\n\t},\r\n  actions: {\r\n    async getMyOrdersFromDB({commit, rootGetters}) {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await fetch(`http://localhost/LAB11/api/orders.php?session_id=${rootGetters['user/getUser'].session_id}`)\r\n\t\t\t\tconst data = await response.json()\r\n        commit('addOrders', data)\r\n\t\t\t} \r\n\t\t\tcatch (error) {\r\n        console.log('error: ', error)\r\n\t\t\t}\r\n\t\t},\r\n    async addOrder({commit, rootGetters}, order) {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await fetch(`http://localhost/LAB11/api/orders.php?session_id=${rootGetters['user/getUser'].session_id}`, {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: JSON.stringify(order),\r\n\t\t\t\t\theaders: { 'Content-type': 'application/json; charset=UTF-8' },\r\n\t\t\t\t})\r\n\t\t\t\tconst data = await response.json()\r\n          console.log('received data:',data)\r\n          commit('addOrder', data)\r\n          return true\r\n\t\t\t} \r\n\t\t\tcatch (error) {\r\n\t\t\t\tconsole.error(error)\r\n        return false\r\n\t\t\t}\r\n\t\t},\r\n  },\r\n  modules: {\r\n  }\r\n}\r\nexport default \r\n\torders"]}]}