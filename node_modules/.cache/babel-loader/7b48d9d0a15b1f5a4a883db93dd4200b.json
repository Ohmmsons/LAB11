{"remainingRequest":"C:\\xampp\\htdocs\\LAB11\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\LAB11\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\xampp\\htdocs\\LAB11\\src\\store\\orders.js","dependencies":[{"path":"C:\\xampp\\htdocs\\LAB11\\src\\store\\orders.js","mtime":1669803519170},{"path":"C:\\xampp\\htdocs\\LAB11\\babel.config.js","mtime":1669803518612},{"path":"C:\\xampp\\htdocs\\LAB11\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669803741763},{"path":"C:\\xampp\\htdocs\\LAB11\\node_modules\\babel-loader\\lib\\index.js","mtime":1669803747522},{"path":"C:\\xampp\\htdocs\\LAB11\\node_modules\\eslint-loader\\index.js","mtime":1669803741583}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFx4YW1wcFxcaHRkb2NzXFxMQUIxMVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzpcXHhhbXBwXFxodGRvY3NcXExBQjExXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFx0b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKdmFyIG9yZGVycyA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBvcmRlcnM6IFsvL3sKICAgICAgLy8iaWQiOiIxMSIsCiAgICAgIC8vImN1c3RvbWVyX2lkIjoiMjAiLAogICAgICAvLyJjcmVhdGVkX2F0IjoiMjAyMS0xMi0wMyAxODoyMDozMSIsCiAgICAgIC8vInN0YXR1c19pZCI6IjEiLAogICAgICAvLyJ0b3RhbCI6IjE5MCIsCiAgICAgIC8vIm9yZGVyX2l0ZW1zIjpbeyJwcm9kdWN0X2lkIjoiMiIsIm5hbWUiOiJTYWxtb24gUm9sbCIsInByaWNlIjoiMTgiLCJxdWFudGl0eSI6IjQifSx7InByb2R1Y3RfaWQiOiIzIiwicXVhbnRpdHkiOiIzIn0seyJwcm9kdWN0X2lkIjoiNCIsInF1YW50aXR5IjoiMiJ9XQogICAgICAvL30KICAgIF0KICB9LAogIGdldHRlcnM6IHsKICAgIGdldE9yZGVyczogZnVuY3Rpb24gZ2V0T3JkZXJzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5vcmRlcnM7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGFkZE9yZGVyczogZnVuY3Rpb24gYWRkT3JkZXJzKHN0YXRlLCBvcmRlcnMpIHsKICAgICAgc3RhdGUub3JkZXJzID0gb3JkZXJzOwogICAgfSwKICAgIGFkZE9yZGVyOiBmdW5jdGlvbiBhZGRPcmRlcihzdGF0ZSwgb3JkZXIpIHsKICAgICAgc3RhdGUub3JkZXJzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5vcmRlcnMpLCBbb3JkZXJdKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGdldE15T3JkZXJzRnJvbURCOiBmdW5jdGlvbiBnZXRNeU9yZGVyc0Zyb21EQihfcmVmKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIHJlc3BvbnNlLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vZGF3LmRlZWkuZmN0LnVhbGcucHQvfmExMjM0NS9MQUIxMS9hcGkvb3JkZXJzLnBocD9zZXNzaW9uX2lkPSIuY29uY2F0KHJvb3RHZXR0ZXJzWyd1c2VyL2dldFVzZXInXS5zZXNzaW9uX2lkKSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb21taXQoJ2FkZE9yZGVycycsIGRhdGEpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yOiAnLCBfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRPcmRlcjogZnVuY3Rpb24gYWRkT3JkZXIoX3JlZjIsIG9yZGVyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCByZXNwb25zZSwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYyLnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vZGF3LmRlZWkuZmN0LnVhbGcucHQvfmExMjM0NS9MQUIxMS9hcGkvb3JkZXJzLnBocD9zZXNzaW9uX2lkPSIuY29uY2F0KHJvb3RHZXR0ZXJzWyd1c2VyL2dldFVzZXInXS5zZXNzaW9uX2lkKSwgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkob3JkZXIpLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZWNlaXZlZCBkYXRhOicsIGRhdGEpOwogICAgICAgICAgICAgICAgY29tbWl0KCdhZGRPcmRlcicsIGRhdGEpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHRydWUpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQyLnQwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgMTNdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfTsKZXhwb3J0IGRlZmF1bHQgb3JkZXJzOw=="},{"version":3,"sources":["C:/xampp/htdocs/LAB11/src/store/orders.js"],"names":["orders","namespaced","state","getters","getOrders","mutations","addOrders","addOrder","order","actions","getMyOrdersFromDB","commit","rootGetters","fetch","session_id","response","json","data","console","log","method","body","JSON","stringify","headers","error","modules"],"mappings":";;;;;;AAAE,IAAMA,MAAM,GAAG;AACfC,EAAAA,UAAU,EAAE,IADG;AAEfC,EAAAA,KAAK,EAAE;AACLF,IAAAA,MAAM,EACN,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAFK,GAFQ;AAefG,EAAAA,OAAO,EAAE;AACPC,IAAAA,SADO,qBACIF,KADJ,EACW;AAChB,aAAOA,KAAK,CAACF,MAAb;AACD;AAHM,GAfM;AAoBfK,EAAAA,SAAS,EAAE;AACTC,IAAAA,SADS,qBACCJ,KADD,EACQF,MADR,EACe;AACpBE,MAAAA,KAAK,CAACF,MAAN,GAAeA,MAAf;AACH,KAHQ;AAITO,IAAAA,QAJS,oBAIAL,KAJA,EAIOM,KAJP,EAIa;AACpBN,MAAAA,KAAK,CAACF,MAAN,gCAAmBE,KAAK,CAACF,MAAzB,IAAiCQ,KAAjC;AACH;AANU,GApBI;AA6BfC,EAAAA,OAAO,EAAE;AACDC,IAAAA,iBADC,mCACwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAtBC,gBAAAA,MAAsB,QAAtBA,MAAsB,EAAdC,WAAc,QAAdA,WAAc;AAAA;AAAA;AAAA,uBAExBC,KAAK,+EAAwED,WAAW,CAAC,cAAD,CAAX,CAA4BE,UAApG,EAFmB;;AAAA;AAEzCC,gBAAAA,QAFyC;AAAA;AAAA,uBAG5BA,QAAQ,CAACC,IAAT,EAH4B;;AAAA;AAGzCC,gBAAAA,IAHyC;AAI3CN,gBAAAA,MAAM,CAAC,WAAD,EAAcM,IAAd,CAAN;AAJ2C;AAAA;;AAAA;AAAA;AAAA;AAO3CC,gBAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;;AAP2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAShD,KAVQ;AAWDZ,IAAAA,QAXC,2BAW+BC,KAX/B,EAWsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA7BG,gBAAAA,MAA6B,SAA7BA,MAA6B,EAArBC,WAAqB,SAArBA,WAAqB;AAAA;AAAA;AAAA,uBAEtBC,KAAK,+EAAwED,WAAW,CAAC,cAAD,CAAX,CAA4BE,UAApG,GAAkH;AAC7IM,kBAAAA,MAAM,EAAE,MADqI;AAE7IC,kBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAef,KAAf,CAFuI;AAG7IgB,kBAAAA,OAAO,EAAE;AAAE,oCAAgB;AAAlB;AAHoI,iBAAlH,CAFiB;;AAAA;AAEvCT,gBAAAA,QAFuC;AAAA;AAAA,uBAO1BA,QAAQ,CAACC,IAAT,EAP0B;;AAAA;AAOvCC,gBAAAA,IAPuC;AAQvCC,gBAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA6BF,IAA7B;AACAN,gBAAAA,MAAM,CAAC,UAAD,EAAaM,IAAb,CAAN;AATuC,kDAUhC,IAVgC;;AAAA;AAAA;AAAA;AAa7CC,gBAAAA,OAAO,CAACO,KAAR;AAb6C,kDAclC,KAdkC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgB9C;AA3BQ,GA7BM;AA0DfC,EAAAA,OAAO,EAAE;AA1DM,CAAf;AA6DF,eACC1B,MADD","sourcesContent":["  const orders = {\n  namespaced: true,\n  state: {\n    orders: \n    [\n    //{\n    //\"id\":\"11\",\n    //\"customer_id\":\"20\",\n    //\"created_at\":\"2021-12-03 18:20:31\",\n    //\"status_id\":\"1\",\n    //\"total\":\"190\",\n    //\"order_items\":[{\"product_id\":\"2\",\"name\":\"Salmon Roll\",\"price\":\"18\",\"quantity\":\"4\"},{\"product_id\":\"3\",\"quantity\":\"3\"},{\"product_id\":\"4\",\"quantity\":\"2\"}]\n    //}\n    ]\n  },\n  getters: {\n    getOrders (state) {\n      return state.orders\n    },   \n  }, \n  mutations: {\n    addOrders(state, orders){\n        state.orders = orders\n    },\n    addOrder(state, order){\n      state.orders = [...state.orders, order]\n  },\n\n\t},\n  actions: {\n    async getMyOrdersFromDB({commit, rootGetters}) {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(`http://daw.deei.fct.ualg.pt/~a12345/LAB11/api/orders.php?session_id=${rootGetters['user/getUser'].session_id}`)\n\t\t\t\tconst data = await response.json()\n        commit('addOrders', data)\n\t\t\t} \n\t\t\tcatch (error) {\n        console.log('error: ', error)\n\t\t\t}\n\t\t},\n    async addOrder({commit, rootGetters}, order) {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(`http://daw.deei.fct.ualg.pt/~a12345/LAB11/api/orders.php?session_id=${rootGetters['user/getUser'].session_id}`, {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbody: JSON.stringify(order),\n\t\t\t\t\theaders: { 'Content-type': 'application/json; charset=UTF-8' },\n\t\t\t\t})\n\t\t\t\tconst data = await response.json()\n          console.log('received data:',data)\n          commit('addOrder', data)\n          return true\n\t\t\t} \n\t\t\tcatch (error) {\n\t\t\t\tconsole.error(error)\n        return false\n\t\t\t}\n\t\t},\n  },\n  modules: {\n  }\n}\nexport default \n\torders"]}]}